<% action_url = @cat.persisted? ? cat_url(@cat) : cats_url %>
<% form_method = @cat.persisted? ? "PATCH" : "POST" %>
<% submit_text = @cat.persisted? ? "Update" : "Submit" %>

<form action="<%= action_url %>" method="POST">
   <input type="hidden" name="_method" value="<%= form_method %>">
  
  <label for="cat_name">Name</label>
  <input name="cat[name]" id="cat_name" type="text" value="<%= @cat.name %>">
  
  <br>
  
  <label for="cat_birth_date">Birthdate</label>
  <input name="cat[birth_date]"
         id="cat_birth_date"
         type="date"
         value="<%= @cat.birth_date %>">
  
  
  <br>
  
  <label for="cat_color">Color</label>
  <select 
    name="cat[color]" 
    id="cat_color">
    <option value="blank"></option>
    <% Cat::COLORS.each do |color| %>
      <option value="<%= color %>" <%= "selected" if @cat.color == color %>>
        <%= color %>
      </option>
      <% end %>
  </select>
  
  <br>
  
  <label for="cat_sex">Gender</label>
  <select name="cat[sex]" id="cat_sex" value="<%= @cat.sex %>">
    <option value="M" <% if @cat.sex == "M" %>
      selected
      <% end %>>
      Male</option>
    <option value="F" <% if @cat.sex == "F" %>
      selected
      <% end %>>
      Female</option>
  </select>
  
  <br>
  
  <label for="cat_description">Memories?</label>
  <textarea 
    name="cat[description]" 
    id="cat_description"
    value="<%= @cat.description %>">
  </textarea>
  
  <br>
  
  <input type="submit" value="<%= submit_text %>">
</form>
